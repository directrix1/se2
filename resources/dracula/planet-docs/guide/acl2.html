<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>2&nbsp;ACL2</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Dracula</span>:<span class="mywbr"> </span> A Guide to ACL2 in Dr<span class="mywbr"> </span>Scheme</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="install.html" class="tocviewlink" pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">ACL2</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="doublecheck.html" class="tocviewlink" pltdoc="x">Doublecheck</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="modular.html" class="tocviewlink" pltdoc="x">Modular ACL2</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="install.html" title="backward to &quot;1 Getting Started&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Dracula: A Guide to ACL2 in DrScheme&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="doublecheck.html" title="forward to &quot;3 Doublecheck&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>2<tt>&nbsp;</tt><a name="(part._acl2)"></a>ACL2</h3><p>We will illustrate how to use our software via this short walkthrough. It
assumes that you have already installed the Dracula software. If you have
not, please refer to the <a href="install.html" pltdoc="x">Getting Started</a> section.</p><p>If you have installed the software, start up DrScheme and read on!</p><p><span style="font-weight: bold">Choose the ACL2 Language Level</span></p><p>The first step is to set your language level in DrScheme. Under the Language
menu, select <span class="stt">Choose Language...</span>. A dialog will pop up. Under the
heading <span style="font-weight: bold">Dracula</span>, choose <span class="stt">ACL2</span>.</p><p><img src="chosen-language.png" alt="" /></p><p><span style="font-weight: bold">Definitions Window</span></p><p>The editing area in the DrScheme window is split into two sections. The top
is the Definitions Window, and that is where we edit programs. Type in
the definition of the factorial function:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZm9ybSBjIChjIChjIHBsYW5ldCBjICh1IC4gYWNsLnJr%0D%0AdCkgYyAoYyAodSAuIGNjZSkgYyAodSAuIGRyYWN1bGEucGx0KSBjIDggYyAxNikgYyAodSAu%0D%0AIGxhbmcpKSBjIGRlZnVuKSkp%0D%0A" class="RktStxLink" pltdoc="x">defun</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fact</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZm9ybSBjIChjIChjIHBsYW5ldCBjICh1IC4gYWNsLnJr%0D%0AdCkgYyAoYyAodSAuIGNjZSkgYyAodSAuIGRyYWN1bGEucGx0KSBjIDggYyAxNikgYyAodSAu%0D%0AIGxhbmcpKSBjIGlmKSkp%0D%0A" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcGxhbmV0IGMgKHUgLiBhY2wucmt0%0D%0AKSBjIChjICh1IC4gY2NlKSBjICh1IC4gZHJhY3VsYS5wbHQpIGMgOCBjIDE2KSBjICh1IC4g%0D%0AbGFuZykpIGMgenApKSk%3D%0D%0A" class="RktValLink" pltdoc="x">zp</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZm9ybSBjIChjIChjIHBsYW5ldCBjICh1IC4gYWNsLnJr%0D%0AdCkgYyAoYyAodSAuIGNjZSkgYyAodSAuIGRyYWN1bGEucGx0KSBjIDggYyAxNikgYyAodSAu%0D%0AIGxhbmcpKSBjICopKSk%3D%0D%0A" class="RktStxLink" pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fact</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZm9ybSBjIChjIChjIHBsYW5ldCBjICh1IC4gYWNsLnJr%0D%0AdCkgYyAoYyAodSAuIGNjZSkgYyAodSAuIGRyYWN1bGEucGx0KSBjIDggYyAxNikgYyAodSAu%0D%0AIGxhbmcpKSBjIDEtKSkp%0D%0A" class="RktStxLink" pltdoc="x">1-</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>and then click <span class="stt">Run</span>.</p><p><img src="fact-defn.png" alt="" /></p><p><span style="font-weight: bold">Interactions Window</span></p><p>You may now test your function interactively by typing expressions at the
prompt in the bottom half of the DrScheme Window. Try evaluating
<span class="RktPn">(</span><span class="RktSym">fact</span><span class="stt"> </span><span class="RktVal">10</span><span class="RktPn">)</span> at the prompt by typing in the expression followed
by a return. DrScheme will print out the answer <span class="RktVal">3628800</span>.</p><p>Try making an error in the interactions window. For example, try to evaluate
<span class="RktPn">(</span><span class="RktSym">fact</span><span class="stt"> </span><span class="RktVal">-4</span><span class="RktPn">)</span>. This is an error because the predicate <span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcGxhbmV0IGMgKHUgLiBhY2wucmt0%0D%0AKSBjIChjICh1IC4gY2NlKSBjICh1IC4gZHJhY3VsYS5wbHQpIGMgOCBjIDE2KSBjICh1IC4g%0D%0AbGFuZykpIGMgenApKSk%3D%0D%0A" class="RktValLink" pltdoc="x">zp</a></span> only
works on natural numbers, and you&rsquo;ll notice that DrScheme prints an error
message to that effect. It has also highlighted <span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcGxhbmV0IGMgKHUgLiBhY2wucmt0%0D%0AKSBjIChjICh1IC4gY2NlKSBjICh1IC4gZHJhY3VsYS5wbHQpIGMgOCBjIDE2KSBjICh1IC4g%0D%0AbGFuZykpIGMgenApKSk%3D%0D%0A" class="RktValLink" pltdoc="x">zp</a></span> in the
definitions window to indicate which call received the invalid arguments.</p><p><img src="fact-10.png" alt="" /></p><p><span style="font-weight: bold">Start ACL2</span></p><p>The right-hand side of the window shows the ACL2 console. The top half shows
ACL2 proof trees, and the bottom half shows ACL2&rsquo;s output. The text here is
read-only; ACL2 interaction will happen via the buttons in DrScheme. Begin
by clicking the <span class="stt">Start</span> button. If this is your first time starting
Dracula, you will be prompted to locate an ACL2 executable. Once you have
located it, ACL2 will start up and you will see its output in the console.</p><p><img src="start-acl2.png" alt="" /></p><p><span style="font-weight: bold">Admitting a Term</span></p><p>Click <span class="stt">Admit</span>. This sends your definition of factorial to ACL2.
ACL2 will attempt to prove that your function terminates on every input,
and, if it can, your definition will be highlighted in green. If ACL2 rejects
your definition, it will highlight it in red. If ACL2 rejects your code, edit
it and try again. If the next unhighlighted expression is ill-formed, DrScheme
will not send it to ACL2.</p><p><img src="fact-with-failed.png" alt="" /></p><p>In order to keep ACL2 and DrScheme in sync, code that is highlighted green
cannot be edited. If you wish to edit a green expression, then click
<span class="stt">Undo</span> until the expression is unhighlighted. You may also click
<span class="stt">Reset</span> to unhighlight all expressions in the definitions window.</p><p>The <span class="stt">All</span> button will send all expressions in the definitions
window to ACL2. If one of them is rejected, DrScheme will highlight it red
and not attempt to admit the remaining expressions.</p><p>The <span class="stt">To Cursor</span> button will either attempt admit terms up to the
Definitions Window&rsquo;s cursor, or undo terms back to it, depending on where
the cursor is. By placing your cursor in the middle of a term, you can
alternate between admitting and undoing the term by clicking the
<span class="stt">To Cursor</span> button repeatedly.</p><p><span style="font-weight: bold">Proving a Theorem</span></p><p>Now you can prove that factorial always produces a positive number. Enter the following code after your definition of factorial:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZm9ybSBjIChjIChjIHBsYW5ldCBjICh1IC4gYWNsLnJr%0D%0AdCkgYyAoYyAodSAuIGNjZSkgYyAodSAuIGRyYWN1bGEucGx0KSBjIDggYyAxNikgYyAodSAu%0D%0AIGxhbmcpKSBjIGRlZnRobSkpKQ%3D%3D%0D%0A" class="RktStxLink" pltdoc="x">defthm</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fact-produces-positive</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcGxhbmV0IGMgKHUgLiBhY2wucmt0%0D%0AKSBjIChjICh1IC4gY2NlKSBjICh1IC4gZHJhY3VsYS5wbHQpIGMgOCBjIDE2KSBjICh1IC4g%0D%0AbGFuZykpIGMgcG9zcCkpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">posp</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fact</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>Click <span class="stt">Admit Next</span> to send the theorem to ACL2. The theorem should
become highlighted in green. Now, look back at the proof tree window. You&rsquo;ll see
in the top it says <span style="font-weight: bold">Q.E.D.</span> just below the theorem&rsquo;s name.</p><p><img src="admitted-theorem.png" alt="" /></p><p>When ACL2 is in the process of proving a conjecture, or if it fails to prove
one, a proof tree will be displayed in the proof tree window. For
more information on using proof trees and checkpoints to debug failed proof
attempts, search for &ldquo;proof-tree&rdquo; in the ACL2 documentation.</p><p><span style="font-weight: bold">Stop ACL2</span></p><p>To stop ACL2, click the <span class="stt">Stop</span> button. This will terminate
the running ACL2 process for that window, and will clear the output and
proof tree windows. If you wish to save ACL2&rsquo;s output before stopping,
you may do so by clicking <span class="stt">Save ACL2 Output As...</span> from the <span class="stt">Dracula</span> menu.</p><p><span style="font-weight: bold">Explore the Sample Code</span></p><p>Now that you have a handle on the basics of using ACL2 via DrScheme, see
<a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgcGFydCBjIChjICh1IC4gKHBsYW5ldCByZWZlcmVuY2Uu%0D%0Ac2NyYmwgKGNjZSBkcmFjdWxhLnBsdCA4IDE2KSByZWZlcmVuY2UpKSBjIHRvcCkpKQ%3D%3D%0D%0A" pltdoc="x"><span style="font-weight: bold">Dracula</span>: Reference Manual</a> for a full
description of the ACL2 language.  Also, see the
<a href="http://www.ccs.neu.edu/home/cce/acl2/examples.html">Sample Code</a> at the
Dracula web page to explore more in-depth examples.</p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="install.html" title="backward to &quot;1 Getting Started&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Dracula: A Guide to ACL2 in DrScheme&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="doublecheck.html" title="forward to &quot;3 Doublecheck&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>