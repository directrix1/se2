<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>2.2&nbsp;"avl-rational-keys"</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Dracula</span>:<span class="mywbr"> </span> Reference Manual</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="ACL2.html" class="tocviewlink" pltdoc="x">ACL2</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="teachpacks.html" class="tocviewselflink" pltdoc="x">Teachpacks</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="modular.html" class="tocviewlink" pltdoc="x">Modular ACL2</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="teachpacks.html" class="tocviewlink" pltdoc="x">Teachpacks</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="_audio_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"audio"</span></a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x"><span class="RktVal">"avl-<wbr></wbr>rational-<wbr></wbr>keys"</span></a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="_binary-io-utilities_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"binary-<wbr></wbr>io-<wbr></wbr>utilities"</span></a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="doublecheck.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"doublecheck"</span></a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="_io-utilities_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"io-<wbr></wbr>utilities"</span></a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="_list-utilities_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"list-<wbr></wbr>utilities"</span></a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="_rand_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"rand"</span></a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="_testing_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"testing"</span></a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="_world_.html" class="tocviewlink" pltdoc="x"><span class="RktVal">"world"</span></a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="_audio_.html" title="backward to &quot;2.1 &quot;audio&quot;&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="teachpacks.html" title="up to &quot;2 Teachpacks&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="_binary-io-utilities_.html" title="forward to &quot;2.3 &quot;binary-io-utilities&quot;&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.2<tt>&nbsp;</tt><a name="(part.__avl-rational-keys_)"></a><span class="RktVal">"avl-rational-keys"</span></h4><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="events.html#(form._((planet._acl..rkt._(cce._dracula..plt._8._16)._lang)._include-book))" class="RktStxLink" pltdoc="x">include-book</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"avl-rational-keys"</span><span class="hspace">&nbsp;</span><span class="RktVar">:dir</span><span class="hspace">&nbsp;</span><span class="RktVar">:teachpacks</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Documentation under construction.</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">;;=============================================================================</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; Function usage notes</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; 1. (avl-retrieve tr key)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">assumes</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>tr<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">has been constructed by one of the AVL-tree constructors</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(empty-tree, avl-insert, and avl-delete)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>new-key<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is a rational number</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">delivers</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">either a two element list (k d)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">such that k equals key and</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">tr contains a subtree with k and d in its root</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">or nil, in case key does not occur in tr</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; 2. (empty-tree)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">delivers an empty AVL-tree</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; 3. (avl-insert tr key datum)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">assumes</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>tr<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">has been constructed by the AVL-tree constructors</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(empty-tree, avl-insert, or avl-delete)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>key<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is a rational number</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">delivers an AVL tree with the following property</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(and (equal (avl-retrieve (avl-insert tr key datum) key)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(list key datum))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(iff (avl-retrieve (avl-insert tr key datum) k)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(or (avl-retrieve tr k)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(key= k key))))</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; 4. (avl-delete tr key)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">assumes</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>tr<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">has been constructed by the AVL-tree constructors</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(empty-tree, avl-insert, and avl-delete)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>key<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is a rational number</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">delivers an AVL tree with the following property</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(equal (avl-retrieve (avl-delete tr key) key)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">nil)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;; 5. (avl-flatten tr)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">assumes</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>tr<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">has been constructed by the AVL-tree constructors</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(empty-tree, avl-insert, and avl-delete)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">delivers a list of cons-pairs with the following properties</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(and (implies (occurs-in-tree? k tr)</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(and (occurs-in-pairs? k (avl-flatten tr))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(meta-property-DF tr k)))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(implies (not (occurs-in-tree? k tr))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(not (occurs-in-pairs? k (avl-flatten tr)))))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(increasing-pairs? (avl-flatten tr)))</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">where (meta-property-DF tr k) means that one of the elements, e, in</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">the list (avl-flatten tr) satisfies (equal (car e) k)) and</span></span></p></td></tr><tr><td><p><span class="stt">;;<span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(cadr e) is the datum at the root of the subtree of tr where k occurs</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="stt">;;=============================================================================</span></span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="_audio_.html" title="backward to &quot;2.1 &quot;audio&quot;&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="teachpacks.html" title="up to &quot;2 Teachpacks&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="_binary-io-utilities_.html" title="forward to &quot;2.3 &quot;binary-io-utilities&quot;&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>